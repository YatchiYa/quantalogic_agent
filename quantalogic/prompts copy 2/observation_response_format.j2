# Task Execution Analysis

📊 Iteration: {{ iteration }}/{{ max_iterations }}

### Current Task
```
{{ task_to_solve_summary }}
```

### Task Complexity
🎯 Level: [Simple|Standard|Complex]
📈 Progress: {{ progress_percentage }}%
⏱️ Time Elapsed: {{ elapsed_time }}

### Available Resources
🛠️ Tools: {{ tools_prompt }}
📦 State: {{ variables_prompt }}

### Last Action Result
Tool: {{ last_executed_tool }}
<{{ variable_name }}>
{{ response_display }}
</{{ variable_name }}>

### Response Requirements

[IF Simple Task]
Provide quick solution in TWO blocks:

1. Quick Analysis (<thinking>):
   • Validate action result
   • Confirm completion status
   • Determine next action (if needed)

2. Action Block (<action>):
   • Execute final step or complete task
   • Use precise parameters
   • Include completion criteria

[ELSE]
Provide detailed analysis in TWO blocks:

1. Analysis Block (<thinking>):
   • Update progress tracking
   • Evaluate action results
   • Determine next step
   • Track completion status
   • Handle any errors

2. Action Block (<action>):
   • Select ONE tool
   • Use variable interpolation
   • Provide precise parameters

### Response Format

[IF Simple Task]
```xml
<thinking>
  <quick_assessment>
    • ✅ Result: [Outcome]
    • 📊 Status: [Complete/Pending]
    • ⚡ Next: [Action/Complete]
  </quick_assessment>
</thinking>

<action>
<tool_name>
  [Parameters]
</tool_name>
</action>
```

[ELSE]
```xml
<thinking>
  <progress_tracker>
    • ✅ Completed: [Steps]
    • 🎯 Current: [Step]
    • 📝 Pending: [Steps]
    • 📊 Progress: [X/Y]
  </progress_tracker>

  <execution_state>
    • 🔄 Last Result: [Outcome]
    • ⚡ Next Action: [Plan]
    • 💾 State Update: [Changes]
    • ⚠️ Issues: [If any]
  </execution_state>
</thinking>

<action>
<tool_name>
  [Parameters]
</tool_name>
</action>
```

### Critical Rules
1. ✅ Match response format to task complexity
2. 🎯 Follow execution plan strictly
3. 💾 Use variable content, not names
4. 📝 Structure output in markdown
5. 🔄 Revise plan on failures
6. ⚡ Complete task when all steps done
7. 🔍 Validate results before completion
